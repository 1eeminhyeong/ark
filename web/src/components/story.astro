---
import { Code } from 'astro/components'
import { getCollection } from 'astro:content'
import { CodeExamples } from './code-examples'

interface Props {
  id: string
}
const { id } = Astro.props
const { component } = Astro.params

const stories = await getCollection('stories', (story) => story.id.includes(component ?? ''))
const [react, solid] = stories
---

<CodeExamples client:load>
  <Code slot="react" code={react?.data[id] ?? ''} lang="tsx" theme="css-variables" />
  <Code slot="solid" code={solid?.data[id] ?? ''} lang="tsx" theme="css-variables" />
</CodeExamples>
